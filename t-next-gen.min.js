(function(h,f,m){var d=function(a,b){return new d.p.init(a,b)},e={array:{contains:function(a,b){for(var c=a.length;c--;)if(d.is.object(a[c])&&d.is.object(b)){var g=Object.keys(b),k;for(k in a[c])a[c][k]===b[k]&&g.splice(g.indexOf(k),1);if(!g.length)return!0}else if(d.is.array(a[c])&&d.is.array(b)){if(e.array.equals(a[c],b))return!0}else if(d.is.number(a[c])&&d.is.number(b)&&a[c]===b||d.is.string(a[c])&&d.is.string(b)&&a[c].toLowerCase()===b.toLowerCase())return!0;return!1},equals:function(a,b){if(!d.is.array(a)||
!d.is.array(b)||a.length!==b.length)return!1;for(var c=a.length;c--;)if(d.is.array(a[c])&&d.is.array(b[c])){if(!e.array.equals(a[c],b[c]))return!1}else if(d.is.object(a[c])&&d.is.object(b[c])){var g=Object.keys(b[c]),k;for(k in a[1]){if(a[c][k]!==b[c][k])return!1;g.splice(g.indexOf(k),1)}if(g.length)return!1}else if(a[c]!==b[c])return!1;return!0},sort:function(a,b){return d.is.array(a)?d.is.undefined(b)?a.sort(function(a,b){return a<b?-1:a>b?1:0}):a.sort(function(a,g){return a[b]<g[b]?-1:a[b]>g[b]?
1:0}):!1}},matchesSelector:function(a,b){var c=Element.prototype;return(c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||function(a){return-1!==[].slice.call(f.querySelectorAll(a)).indexOf(this)}).call(a,b)},number:{ceiling:function(a){return Math.ceil(a)},equals:function(a,b){return d.is.number(a)&&a===b&&1/a===1/b},floor:function(a){return Math.floor(a)},mod:function(a,b){return a%b},round:function(a){return Math.round(a)}},object:{equals:function(a,
b){var c=Object.keys(a),g=Object.keys(b);if(c.length!==g.length||!e.array.equals(c,g))return!1;for(g=c.length;g--;)if(!d.is.sameType(a[c[g]],b[c[g]])||!d.is.equal(a[c[g]],b[c[g]]))return!1;return!0}},pubsub:function(){function a(a){if(0<g[a])for(var b in c)if(c[b])for(var d=c[b].length;d--;)c[b][d].token!==g[a]||c[b][d].persistent||(delete g[a],c[b].splice(d,1))}function b(b,g,e,k,f){d.is.array(c[b])||(c[b]=[]);e&&(g=function(){g.call();a(k)});c[b].push({token:f,func:g})}var c={},g={},e={},f=-1;return{publish:function(a){var b=
a.data||{},d,g;if(!c[a.topic])return!1;for(g=(d=c[a.topic])?d.length:0;g--;)d[g].func(b,a.topic);return this},subscribe:function(c){if(!d.is.string(c.name))return throwError("Name passed is not a string."),!1;g[c.name]&&a(c.name);g[c.name]=++f;c.persistent&&(e[c.name]=f);if(d.is.string(c.topic))b(c.topic,c.fn,c.once,c.name,g[c.name]);else if(d.is.array(c.topic))for(var h=c.topic.length;h--;)b(c.topic[h],c.fn,c.once,c.name,g[c.name]);return this},unsubscribe:function(b){b=b||{};switch(getType(b.name)){case "string":a(b.name);
break;case "array":for(var c=b.name.length;c--;)a(b.name[c]);break;case "undefined":for(c in g)e[c]||a(c);break;default:throwError("Name passed is not of valid type.")}return this}}}(),string:{contains:function(a,b){return-1!==a.indexOf(b)},equals:function(a,b){return a===b}},supports:{css3:{property:function(a){try{for(var b=!1,c=a.length;c--;)if(a[c]in(f.documentElement||f.body).style){b=!0;break}return b}catch(d){return!1}},selector:function(a){try{var b=f.head||f.getElementsByTagName("head")[0],
c=f.createElement("style"),d=c.sheet||c.styleSheet,e;c.type="text/css";b.appendChild(c);if(!d||!a)return!1;e=(cssStylesheet?function(a){d.cssText=a+" { }";return 0!==d.cssText.length&&!/unknown/i.test(d.cssText)&&0===d.cssText.indexOf(a)}:function(a){try{d.insertRule(a+"{ }",0),d.deleteRule(d.cssRules.length-1)}catch(b){return!1}return!0})(a);b.contains(c)&&b.removeChild(c);return e}catch(h){return!1}},value:function(a,b){try{var c=f.createElement("div"),d=c.style[a];c.style[a]=b;return d!==c.style[a]}catch(e){return!1}}},
html5:{attribute:function(a,b){var c=f.createElement("input");b&&(c.type=b);return a in c},input:function(a){var b=f.createElement("input");try{var c=b.type;b.type=a;return c!==b.type}catch(d){return!1}},mediaType:function(a,b){var c=f.createElement(a);return!(!c.canPlayType||!c.canPlayType(a+"/"+b+";").replace(/no/,""))}}},uid:1,version:"0.1.0"};d.p=d.prototype={each:function(a){this.map(a);return this},map:function(a){for(var b=[],c=0;c<this.length;c++)b.push(a.call(this,this[c],c));return b},mapOne:function(a){a=
this.map(a);return 1<a.length?a:a[0]},version:e.version};d.p.init=function(a,b){var c=[];if(!d.is.undefined(a)&&!d.is["null"](a)){d.is.string(a)?(c=a.split(" "),c=-1!==c[c.length-1].indexOf("#")?f.querySelector(a):f.querySelectorAll(a)):c=d.is.domNode(a)||d.is.windowObject(a)?[a]:a;for(var g=0,k=c.length;g<k;g++)this[g]=c[g]}this.length=c.length;this.original=b||c;this.uid=e.uid;this.version=e.version;e.uid++};d.p.init.prototype=d.p;d.extend=d.p.extend=function(){var a=arguments[0]||{},b=arguments.length,
c=1;c===b&&(a=this,c--);for(;c<b;c++){var d=arguments[c];if(d)for(var e in d)d!==m&&(a[e]=d[e])}return a};d.extend({is:{array:function(a){return"[object Array]"===toString.call(a)},"boolean":function(a){return!0===a||!1===a||"[object Boolean]"===toString.call(value)},date:function(a){return"[object Date]"===toString.call(a)},domNode:function(a){return d.is.object(a)&&0<a.nodeType},equal:function(a,b){return d.is.sameType(a,b)?d.is.array(a)?e.array.equals(a,b):d.is.object(a)?e.object.equals(a,b):d.is.string(a)||
d.is.regex(a)?""+a===""+b:d.is.number(a)?a===b&&1/a===1/b:d.is.date(a)?a.getTime()===b.getTime():d.is["boolean"](a)?a===b:!1:!1},error:function(a){return"[object Error]"===toString.call(a)},"function":function(a){return"[object Function]"===toString.call(a)||"function"===typeof a},json:function(a){return"[object Object]"===toString.call(a)},nan:function(a){return a!==a},"null":function(a){return null===a},number:function(a){return!d.is.nan(a)&&"[object Number]"===toString.call(a)},object:function(a){var b=
typeof a;return"function"===b||"object"===b&&!!a},regexp:function(a){return"[object RegExp]"===toString.call(a)},sameType:function(a,b){return d.is.nan(a)||d.is.nan(b)?d.is.nan(a)===d.is.nan(b):toString.call(a)===toString.call(b)},string:function(a){return"[object String]"===toString.call(a)},t:function(a){return d.is.object(a)&&!d.is.undefined(a.length)&&!d.is.undefined(a.t)},undefined:function(a){return void 0===a},windowObject:function(a){return"object"===typeof a&&"setInterval"in a}}});d.extend({ajax:function(a){var b=
new XMLHttpRequest,c=a.type||"GET",d="GET"===c?m:a.data,e=a.user||"",f=a.password||"",h=!!a.header,p=!!a.mimeType;a.abort&&b.addEventListener("abort",a.abort,!1);a.complete&&b.addEventListener("loadend",a.complete,!1);a.error&&b.addEventListener("error",a.error,!1);a.progress&&b.addEventListener("progress",a.progress,!1);a.success&&b.addEventListener("load",a.success,!1);switch(c){case "GET":var l="";if(a.data){var l=l+"?",n;for(n in a.data)l+=n+"="+encodeURIComponent(a.data[n])+"&";l.slice(0,-1)}b.open(c,
a.url+l,!0,e,f);h&&b.setRequestHeader(a.header);break;case "POST":case "PUT":case "DELETE":h=a.header||"application/x-www-form-urlencoded; charset=UTF-8",b.open(c,a.url,!0,e,f),b.setRequestHeader("Content-Type",h)}p&&b.overrideMimeType(a.mimeType);b.send(d)},copy:function(a){var b,c,g;if(d.is.object(a))if(c={},d.is.array(a))for(c=[],b=0;b<a.length;b++)g=d.is.object(a[b])?d.copy(a[b]):a[b],c[c.length]=g;else if(d.is["function"](a)||d.is.date(a))c=a;else for(b in a)a.hasOwnProperty(b)&&(g=d.is.object(a[b])?
d.copy(a[b]):a[b],c[b]=g);else c=a;return c},create:function(a){var b=f.createElement("div");b.innerHTML=a;return d(b.firstChild)},publish:function(){e.pubsub.publish.apply(this,arguments)},subscribe:function(){e.pubsub.subscribe.apply(this,arguments)},supports:{applicationCache:!!h.applicationCache,addEventListener:!!f.createElement("div").addEventListener,audio:!!f.createElement("audio").canPlayType,autocomplete:e.supports.html5.attribute("autocomplete"),autofocus:e.supports.html5.attribute("autofocus"),
boxShadow:e.supports.css3.property("boxShadow MozBoxShadow WebkitBoxShadow MsBoxShadow KhtmlBoxShadow OBoxShadow".split(" ")),canvas:function(){var a=f.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}(),classList:!!f.documentElement.classList,cssAnimation:function(){var a=f.createElement("div"),b=!1,c=["Webkit","Moz","O","ms","Khtml"];if(a.style.animationName)b=!0;else for(var d=c.length;d--;)if(a.style[c[d]+"AnimationName"]!==m)return!0;return b}(),cssCalc:e.supports.css3.value("width",
"calc(1% - 1px)"),cssColumn:e.supports.css3.property(["columnCount","webkitColumnCount","MozColumnCount"]),cssReflection:e.supports.css3.property(["boxReflect","WebkitBoxRefect"]),contenteditable:!!("contenteditable"in f.createElement("div")),customEvent:!!h.CustomEvent,dragAndDrop:!!("draggable"in f.createElement("div")),geolocation:!!("geolocation"in navigator),getBoundingClientRect:!!(f.documentElement||f.body).getBoundingClientRect,getElementsByClassName:!!f.getElementsByClassName,flexbox:e.supports.css3.value("display",
"flex"),history:!(!h.history||!h.history.popstate),hsla:e.supports.css3.value("color","hsla(0,0%,0%,0)"),inputDate:e.supports.html5.input("date"),inputDateTime:e.supports.html5.input("datetime"),inputDateTimeLocal:e.supports.html5.input("datetime-local"),inputEmail:e.supports.html5.input("email"),inputMonth:e.supports.html5.input("month"),inputNumber:e.supports.html5.input("number"),inputRange:e.supports.html5.input("range"),inputSearch:e.supports.html5.input("search"),inputTel:e.supports.html5.input("tel"),
inputTime:e.supports.html5.input("time"),inputUrl:e.supports.html5.input("url"),inputWeek:e.supports.html5.input("week"),list:e.supports.html5.attribute("list"),json:!(!JSON||!d.is["function"](JSON.parse)),localStorage:function(){try{return h.localStorage.setItem("test","test"),h.localStorage.removeItem("test"),!0}catch(a){return!1}}(),linearGradient:function(){try{for(var a=["linear-gradient","-webkit-linear-gradient","-moz-linear-gradient","-o-linear-gradient"],b=a.length;b--;)if(e.supports.css3.value("background",
a[b]+"(-45deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%)"))return!0;return e.supports.css3.value("background","-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)))")}catch(c){return!1}}(),max:e.supports.html5.attribute("max"),mediaQueries:function(){var a=f.createElement("div"),b=f.createElement("style"),c=f.body,d=!1;a.id="MediaTest";c.appendChild(a);b.textContent="@media screen and (min-width:1px){#MediaTest{position:absolute;}}";c.appendChild(b);h.getComputedStyle&&"absolute"==
h.getComputedStyle(a).position&&(d=!0);c.removeChild(a);c.removeChild(b);return d}(),min:e.supports.html5.attribute("min"),mp3:e.supports.html5.mediaType("audio","mp3"),mp4:e.supports.html5.mediaType("audio","mp4")&&e.supports.html5.mediaType("video","mp4"),mp4Audio:e.supports.html5.mediaType("audio","mp4"),mp4Video:e.supports.html5.mediaType("video","mp4"),multiple:e.supports.html5.attribute("multiple"),oga:e.supports.html5.mediaType("audio","ogg"),ogv:e.supports.html5.mediaType("video","ogg"),opacity:e.supports.css3.property(["webkitOpacity",
"MozOpacity","opacity"]),pageOffset:!d.is.undefined(pageYOffset),pageXOffset:!d.is.undefined(pageXOffset),pageYOffset:!d.is.undefined(pageYOffset),pattern:e.supports.html5.attribute("pattern"),placeholder:e.supports.html5.attribute("placeholder"),postMessage:!!h.postMessage,pseudoActive:e.supports.css3.selector("::after"),pseudoBefore:e.supports.css3.selector("::before"),pseudoFirstLetter:e.supports.css3.selector("::first-letter"),pseudoFirstLine:e.supports.css3.selector("::first-line"),radialGradient:function(){try{for(var a=
["radial-gradient","-webkit-radial-gradient","-moz-radial-gradient","-o-radial-gradient"],b=a.length;b--;)if(e.supports.css3.value("background",a[b]+"(rgb(0,0,0) 0%,rgb(255,255,255) 100%)"))return!0;return e.supports.css3.value("background","-webkit-gradient(radial, center center, 0px, center center, 100%, from(rgb(0,0,0)), to(rgb(255,255,255)))")}catch(c){return!1}}(),required:e.supports.html5.attribute("required"),rgba:e.supports.css3.value("color","rgba(0,0,0,0)"),sessionStorage:function(){try{return h.sessionStorage.setItem("test",
"test"),h.sessionStorage.removeItem("test"),!0}catch(a){return!1}}(),step:e.supports.html5.attribute("step"),smil:!!(f.createElementNS&&-1<f.createElementNS("http://www.w3.org/2000/svg","animateMotion").toString().indexOf("SVG")),svg:!(!f.createElementNS||!f.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),textShadow:e.supports.css3.property(["textShadow"]),transform:e.supports.css3.property(["transform","WebkitTransform","MozTransform","msTransform","OTransform"]),transform3d:function(){try{for(var a=
["transform","WebkitTransform","MozTransform","msTransform","OTransform"],b=a.length;b--;)if(e.supports.css3.value(a[b],"translate3d(1px,1px,1px)"))return!0;return!1}catch(c){return!1}}(),transition:e.supports.css3.property(["transition","WebkitTransition","MozTransition","OTransition"]),touch:!!("ontouchstart"in f.documentElement||h.navigator.msMaxTouchPoints),video:!!f.createElement("video").canPlayType,webgl:function(){var a=f.createElement("canvas"),b;try{return b=a.getContext("webgl")||b.getContext("experimental-webgl"),
b.getSupportedExtensions(),!0}catch(c){return!1}}(),webm:e.supports.html5.mediaType("video","webm"),webSocket:!(!h.WebSocket||!h.WebSocket.prototype.send),webSQL:!!h.openDatabase},unsubscribe:function(){e.pubsub.unsubscribe.apply(this,arguments)}});d.p.extend({addClass:function(){return d.supports.classList?function(a){return this.each(function(b){b.classList.add(a)})}:function(a){return this.each(function(b){b.className+=" "+a})}}(),append:function(a){if(d.is.domNode(a))return this.each(function(b){b.appendChild(a)});
if(d.is.t(a))return this.each(function(b){a.each(function(a,d){b.appendChild(a)})})},after:function(a){return this.each(function(b){b.insertAdjacentHTML("afterend",a)})},attribute:function(a,b){if(d.is.object(a))return this.each(function(b){for(var g in a)d.is["boolean"](a[g])?b[g]=a[g]:b.setAttribute(g,a[g])});if(d.is.string(a))return d.is.undefined(b)?this.mapOne(function(b){switch(a){case "readonly":case "disabled":case "autofocus":case "required":case "novalidate":case "multiple":return b.getAttribute(a)||
!0;default:return b.getAttribute(a)}}):d.is["boolean"](b)?this.each(function(c){c[a]=b}):this.each(function(c){c.setAttribute(a,b)});if(d.is.array(a))return self.mapOne(function(b){for(var d={},e=0,f=a.length;e<f;e++){var h;switch(a[e]){case "readonly":case "disabled":case "autofocus":case "required":case "novalidate":case "multiple":h=b.getAttribute(a[e])||!0;break;default:h=b.getAttribute(a[e])}d[a[e]]=h}return d});if(d.is.undefined(a))return this.mapOne(function(a){a=a.attributes;for(var b={},
d=0,e=a.length;d<e;d++){var f;switch(a[d].nodeName){case "readonly":case "disabled":case "autofocus":case "required":case "novalidate":case "multiple":f=a[d].nodeValue||!0;break;default:f=a[d].nodeValue}b[a[d].nodeName]=f}return b})},before:function(a){return this.each(function(b){b.insertAdjacentHTML("beforebegin",a)})},children:function(){var a=[];this.each(function(b){for(var c=0,d=b.children.length;c<d;c--)8!==b.children[c].nodeType&&(a[a.length]=b.children[c])});return d(a,this.original)},contains:function(a){var b=
f.createElement("div");return d.is.domNode(b.firstChild)?this.mapOne(function(b){return b!==a&&b.contains(a)}):this.mapOne(function(b){return null!==b.querySelector(a)})},empty:function(){return this.each(function(a){a.innerHTML=""})},element:function(a){return this[a]},filter:function(a){var b=[];d.is.string(a)?this.each(function(a){for(var d=f.querySelectorAll(selector),e=d.length;e--;)a===d[e]&&(b[b.length]=d[e])}):d.is["function"](a)?this.each(function(c){c=f.querySelectorAll(selector);for(var d=
c.length;d--;)a(c[d])&&(b[b.length]=c[d])}):this.each(function(a){b[b.length]=a});return d(b,this.original)},find:function(a){var b=a.split(" "),c=[];-1!==b[b.length-1].indexOf("#")?this.each(function(b){b=b.querySelector(a);d.is["null"](elChildren)||!b||c.length||(c[c.length]=b)}):this.each(function(b){b=b.querySelectorAll(a);if(!d.is["null"](b)&&b.length)for(var e=0,f=b.length;e<f;e++)c[c.length]=b[e]});return d(c,this.original)},hasClass:function(){return d.supports.classList?function(a){return this.mapOne(function(b){return b.classList.contains(a)})}:
function(a){return this.mapOne(function(b){return(new RegExp("(^| )"+a+"( |$)","gi")).test(b.className)})}}(),html:function(a){return d.is.undefined(a)?this.mapOne(function(a){return a.innerHTML}):this.each(function(b){b.innerHTML=a})},index:function(a){return d(this[a],this.original)},next:function(a){return d.is.undefined(a)?d(this.mapOne(function(a){return a.nextElementSibling}),this.original):d(this.mapOne(function(b){if(e.matchesSelector(b,a))return b.nextElementSibling}),this.original)},on:function(a,
b){return d.is.object(a)?this.each(function(c){d.is.object(this.events)||(this.events={});for(var e in a)this.events[e]=a[e],b?c.addEventListener(e,function(d){var f=c.querySelectorAll(b);if(f.length)for(var h=f.length;h--;)f[h]===d.target&&a[e].call()},!1):c.addEventListener(e,a[e],!1)}):this},off:function(a){return d.is.array(a)?this.each(function(b){for(var c=a.length;c--;)this.events[a[c]]&&b.removeEventListener(key,this.events[a[c]],!1)}):d.is.string(a)?this.each(function(b){this.events[a]&&
(b.removeEventListener(a,this.events[a],!1),delete this.events[a],console.log(this.events))}):this},prepend:function(a){if(d.is.domNode(a))return this.each(function(b){b.insertBefore(a,b.firstChild)});if(d.is.t(a))return this.each(function(b){a.each(function(a,d){b.insertBefore(a,b.firstChild)})})},previous:function(a){return d.is.undefined(a)?d(this.mapOne(function(a){return a.previousElementSibling}),this.original):d(this.mapOne(function(b){if(e.matchesSelector(b,a))return b.previousElementSibling}),
this.original)},remove:function(){for(var a=this.length;a--;){var b=this[a];b.parentNode.removeChild(b);delete this[a]}this.length=0;return this},removeClass:function(){return d.supports.classList?function(a){return this.each(function(b){b.classList.remove(a)})}:function(a){return this.each(function(b,c){b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")})}}(),revert:function(){return d(this.original,this.original)},text:function(a){return d.is.undefined(a)?
this.mapOne(function(a){return a.textContent}):this.each(function(b){b.textContent=a})},value:function(a){return d.is.undefined(a)?this.mapOne(function(a){return a.value}):this.each(function(b){b.value=a})}});h.t=d})(window,document);
